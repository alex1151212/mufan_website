{"ast":null,"code":"import _slicedToArray from\"D:/FASTAPI_/mufan_/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from'react';import{faCheck,faTimes,faInfoCircle}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var USER_REGEX=/^[a-zA-Z][a-zA-Z0-9-_]{3,23}$/;var PWD_REGEX=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;var Register=function Register(){var userRef=useRef();var errRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),validName=_useState4[0],setValidName=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userFocus=_useState6[0],setUserFocus=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),pwd=_useState8[0],setPwd=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),validPwd=_useState10[0],setValidPwd=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),pwdFocus=_useState12[0],setPwdFocus=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),matchPwd=_useState14[0],setMatchPwd=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),validMatch=_useState16[0],setValidMatch=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),matchFocus=_useState18[0],setMatchFocus=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),errMsg=_useState20[0],setErrMsg=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),success=_useState22[0],setSuccess=_useState22[1];useEffect(function(){userRef.current.focus();},[]);useEffect(function(){var result=USER_REGEX.test(user);console.log(result);console.log(user);setValidName(result);},[user]);useEffect(function(){var result=PWD_REGEX.test(pwd);console.log(result);console.log(pwd);setValidName(result);var match=pwd===matchPwd;setValidMatch(match);},[pwd,matchPwd]);useEffect(function(){setErrMsg('');},[user,pwd,matchPwd]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"p\",{ref:errRef,className:errMsg?\"errmsg\":\"offscreen\",\"aria-live\":\"assertive\",children:errMsg}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",children:[\"Username:\",/*#__PURE__*/_jsx(\"span\",{className:validName?\"valid\":\"hide\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck})}),/*#__PURE__*/_jsx(\"span\",{className:validName||!user?\"hide\":\"invalid\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",ref:useRef,autoComplete:\"off\",onChange:function onChange(e){return setUser(e.target.value);},required:true,\"aria-invalid\":validName?\"false\":\"true\",\"aria-describedby\":\"uidnote\",onFocus:function onFocus(){return setUserFocus(true);},onBlur:function onBlur(){return setUserFocus(false);}}),/*#__PURE__*/_jsxs(\"p\",{id:\"uidnote\",className:userFocus&&user&&!validName?\"instructions\":\"offscreen\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faInfoCircle}),\"4 to 24 characters.\",/*#__PURE__*/_jsx(\"br\",{}),\"Must begin with a letter.\",/*#__PURE__*/_jsx(\"br\",{}),\"Letters, numbers, underscores, hyphens allowed.\"]})]})]});};export default Register;","map":{"version":3,"sources":["D:/FASTAPI_/mufan_/frontend/src/Register.js"],"names":["useRef","useState","useEffect","faCheck","faTimes","faInfoCircle","FontAwesomeIcon","USER_REGEX","PWD_REGEX","Register","userRef","errRef","user","setUser","validName","setValidName","userFocus","setUserFocus","pwd","setPwd","validPwd","setValidPwd","pwdFocus","setPwdFocus","matchPwd","setMatchPwd","validMatch","setValidMatch","matchFocus","setMatchFocus","errMsg","setErrMsg","success","setSuccess","current","focus","result","test","console","log","match","e","target","value"],"mappings":"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","sourcesContent":["import { useRef, useState, useEffect, } from 'react';\r\nimport { faCheck, faTimes, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst USER_REGEX = /^[a-zA-Z][a-zA-Z0-9-_]{3,23}$/;\r\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\r\n\r\nconst Register = () => {\r\n    const userRef = useRef();\r\n    const errRef = useRef();\r\n\r\n    const [user, setUser] = useState('');\r\n    const [validName, setValidName] = useState(false);\r\n    const [userFocus, setUserFocus] = useState(false);\r\n\r\n    const [pwd, setPwd] = useState('');\r\n    const [validPwd, setValidPwd] = useState(false);\r\n    const [pwdFocus, setPwdFocus] = useState(false);\r\n\r\n    const [matchPwd, setMatchPwd] = useState('');\r\n    const [validMatch, setValidMatch] = useState(false);\r\n    const [matchFocus, setMatchFocus] = useState(false);\r\n\r\n    const [errMsg, setErrMsg] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    useEffect(() => {\r\n        userRef.current.focus();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const result = USER_REGEX.test(user);\r\n        console.log(result);\r\n        console.log(user);\r\n        setValidName(result);\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        const result = PWD_REGEX.test(pwd);\r\n        console.log(result);\r\n        console.log(pwd);\r\n        setValidName(result);\r\n        const match = pwd === matchPwd;\r\n        setValidMatch(match);\r\n    }, [pwd, matchPwd])\r\n\r\n    useEffect(()=>{\r\n      setErrMsg('');\r\n    },[user,pwd,matchPwd])\r\n\r\n    return (\r\n        <section>\r\n            <p ref={errRef} className={errMsg ? \"errmsg\" :\r\n                \"offscreen\"} aria-live=\"assertive\">{errMsg}</p>\r\n            <form>\r\n                <label htmlFor=\"username\">\r\n                    Username:\r\n                    <span className={validName ? \"valid\" : \"hide\"}>\r\n                        <FontAwesomeIcon icon={faCheck} />\r\n                    </span>\r\n                    <span className={validName || !user ? \"hide\" :\r\n                        \"invalid\"}>\r\n                        <FontAwesomeIcon icon={faTimes} />\r\n                    </span>\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    ref={useRef}\r\n                    autoComplete=\"off\"\r\n                    onChange={(e) => setUser(e.target.value)}\r\n                    required\r\n                    aria-invalid={validName ? \"false\" : \"true\"}\r\n                    aria-describedby=\"uidnote\"\r\n                    onFocus={() => setUserFocus(true)}\r\n                    onBlur={() => setUserFocus(false)}\r\n                />\r\n                <p id=\"uidnote\" className={userFocus && user &&\r\n                    !validName ? \"instructions\" : \"offscreen\"}>\r\n                    <FontAwesomeIcon icon={faInfoCircle} />\r\n                    4 to 24 characters.<br />\r\n                    Must begin with a letter.<br />\r\n                    Letters, numbers, underscores, hyphens allowed.\r\n                </p>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n\r\n"]},"metadata":{},"sourceType":"module"}